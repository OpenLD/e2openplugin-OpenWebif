#from Plugins.Extensions.OpenWebif.local import tstrings
<div id="content_main" class="ui-widget-content" style="min-height: 500px;">
	<div id="info">

		<div style="background-color: #00000">
		<div style="display: inline-block; width: 100%; zoom: 1;">
			<div style="float:left;width:200px;">
				<h3 class="ui-widget-header">$tstrings['settings']</h3>
				<ol class="sellist" id="slist">
				#if $themes
					<li id='themesbtn' class="ui-selected">OpenWebif Settings</li>
				#end if
				#for $sec in $configsections
					<li id='$sec["key"]' data-id='ajax/config?section=$sec["key"]'>$sec["description"]</li>
				#end for
				</ol>
				
			</div>
			<div style="margin-left:200px;">
				<div style="display: inline-block; width: 100%; zoom: 1;">
					<div id="scontent"></div>
					</div>
		#if $themes
		<div id='osettings' style="display:none;">
			<div id="content_main2">
				<h3 class="ui-widget-header">Openwebif Browser settings</h3>
				<table id="configuration">
				<tr><td>Theme</td><td>
			<select name="selectheme" id="selectheme" style="min-width: 150px;margin: 5px;border:none;font-size: 1em;">
			#for $stheme in $themes
				#if $stheme == $theme
					<option selected="selected">$stheme</option>
				#else
					<option>$stheme</option>
				#end if
			#end for
			</select>
				</td></tr>
				<tr><td>$tstrings['zapbeforestream']</td><td>
				#set $zapstream = 1
				#if $zapstream
				<input type="checkbox" name="zapstream" checked="checked"/>
				#else
				<input type="checkbox" name="zapstream"/>
				#end if
				</td></tr>
				</table>
			</div>
		</div>
		#end if
				</div>
			</div>
		</div>
	</div>
</div>
#raw
<script type="text/javascript">
$(function() { 
	$( "#slist" ).selectable({
		selected: function( event, ui ) {
			var ids = $('#slist .ui-selected').map(function() {
				if($(this).data('id') !== undefined) {
					load_scontent($(this).data('id'));
				} else {
					load_theme();
				}
			});
		}
	});
	load_theme();
});
	function load_theme() {
		$("#scontent").html('');
		$("#osettings").show();
		$("#selectheme").change(function() {
			ChangeTheme($(this).val());
		});
		return false;
	}
	function load_scontent(url) {
		$("#osettings").hide();
		$("#scontent").load(url , function () {
			$("#scontent").find("#content_main").attr("id","content_main1");
		});
		return false;
	}
</script>
#end raw
